!function(e,t){for(var a in t)e[a]=t[a]}(exports,function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=43)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.db=void 0;const r=new(a(29).PrismaClient);t.db=r},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseService=void 0;const i=r(a(26));t.FirebaseService=i.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async count(){return await r.db.user.count()}async index(){return await r.db.user.findMany()}async show(e){return await r.db.user.findUnique({where:{id:e}})}async save(e){const{id:t}=await r.db.user.create({data:{name:e.name,cellphone:e.cellphone,email:e.email,password:e.password,profile_picture:e.profile_picture,isAdmin:e.isAdmin}});return console.log(t),t}async update(e){return await r.db.user.update({data:{name:e.name,email:e.email,profile_picture:e.profile_picture,password:e.password,cellphone:e.cellphone},where:{id:e.id}})}async delete(e){return!!await r.db.user.delete({where:{id:e}})}async getUserProducts(e){return await r.db.user.findMany({where:{id:e},select:{product:!0}})}async getUserByEmail(e){return await r.db.user.findMany({where:{email:e}})}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(4)),n=r(a(5)),d=r(a(6)),s=r(a(7)),u=r(a(8)),o=r(a(9)),c=a(1);t.default=new class{async count(e,t){const a=await d.default.count();return t.send({error:!1,code:200,count:a})}async save(e,t){const{body:a}=e,r=e.user.payload.id,{picture:p,stuffing:l,price:f,saleOffValue:y,type:_,ingredient:m}=a,b=[];m.forEach(e=>{b.push(e.value)});let v=!0;const w=await Promise.all(b.map(async e=>{const t=await i.default.getByName(e);if(t)return t;v=!1}));if(!v)return t.status(404).send({code:404,error:!0,message:["Content Not Founded - Ingredient"]});await p.toBuffer();const g=await c.FirebaseService.uploadImage(p),h=await n.default.save({id:-1,picture_link:g}),z=await s.default.showByName(l.value),P=await d.default.getPizzaTypeByName(_.value);if(!z)return t.status(404).send({code:404,error:!0,message:"Recheio nao encontrado! "});if(!P)return t.status(404).send({code:404,error:!0,message:"Tipo de Pizza nao encontrado! "});const j=l.value+" "+_.value,O=await u.default.save({id:-1,created_by:r,likes:0,name:j,price:f.value,status:!0});await n.default.addPictureInProduct({id:-1,picture_id:h,product_id:O}),y.value>0&&await o.default.saveSaleOffProduct({id:-1,off_value:y.value,product_id:O});const M=await d.default.save({id:-1,product_id:O,pizza_type_id:P}),k=z.id;await s.default.savePizzaWithStuffing({id:-1,pizza_id:M.id,stuffing_id:k}),w.forEach(async e=>{await i.default.addIngredientInPizza({id:-1,pizza_id:M.id,ingredient_id:null==e?void 0:e.id})});const I=await d.default.show(M.id);return t.send({statusCode:200,error:!1,payload:[I]})}async index(e,t){const a=await d.default.index();return t.send({code:200,error:!1,payload:a})}async delete(e,t){const{id:a}=e.params;return await d.default.delete(parseInt(a))?t.send({code:200,error:!1,message:["Succefull Deleted"]}):t.status(404).send({error:!0,code:404,message:["Content Not Founded"]})}async activate(e,t){const{id:a}=e.params;return await d.default.activate(parseInt(a))?t.send({code:200,error:!1,message:["Sucefull activate!"]}):t.status(404).send({error:!0,code:404,message:["Content Not Founded"]})}async show(e,t){const{id:a}=e.params,r=await d.default.show(parseInt(a));return r?t.send({code:200,error:!1,payload:r}):t.status(404).send({code:404,error:!0,message:["Content no founded - 404"]})}async update(e,t){var a,r,p,l,f;const{picture:y,stuffing:_,price:m,saleOffValue:b,type:v,ingredient:w}=e.body,g=e.params.id,h=await d.default.show(parseInt(g));if(w.length>0){const e=[];w.forEach(t=>{e.push(t.value)});let a=!0;const r=await Promise.all(e.map(async e=>{const t=await i.default.getByName(e);if(t)return t;a=!1}));if(!a)return t.status(404).send({code:404,error:!0,message:["Content Not Founded - Ingredient"]});const n=await d.default.show(parseInt(g)),s=null==n?void 0:n.pizza_ingredient;s&&await Promise.all(null==s?void 0:s.map(async e=>{const t=e.id;await i.default.deleteIngredientInPizza(t)})),await Promise.all(r.map(async e=>{await i.default.addIngredientInPizza({id:-1,ingredient_id:null==e?void 0:e.id,pizza_id:parseInt(g)})}))}if(y){var z;await y.toBuffer();const e=await c.FirebaseService.uploadImage(y),t=null==h||null===(z=h.product)||void 0===z?void 0:z.tbl_product_pictures[0].picture_id;await n.default.update({id:t,picture_link:e})}if(_){const e=await s.default.showByName(_.value);if(!e)return t.status(404).send({code:404,error:!0,message:"Recheio nao encontrado! "});const a=null==h?void 0:h.pizza_stuffing[0].id;await s.default.updatePizzaWithStuffing({id:a,pizza_id:parseInt(g),stuffing_id:e.id})}if(v){const e=await d.default.getPizzaTypeByName(v.value);if(!e)return t.status(404).send({code:404,error:!0,message:["Tipo de Pizza nao encontrado"]});await d.default.update({id:parseInt(g),pizza_type_id:e,product_id:null==h?void 0:h.product_id})}let P=null==h||null===(a=h.product)||void 0===a?void 0:a.name,j=null==h||null===(r=h.product)||void 0===r?void 0:r.price;if(m&&(j=m.value),v&&_)P=_.value+" "+v.value;else if(_){var O;P=_.value+" "+(null==h||null===(O=h.pizza_type)||void 0===O?void 0:O.name)}else{var M;P=(null==h||null===(M=h.pizza_stuffing[0].stuffing)||void 0===M?void 0:M.name)+" "+v.value}var k;(await u.default.update({id:null==h?void 0:h.product_id,name:P,price:j,created_by:null==h||null===(p=h.product)||void 0===p?void 0:p.created_by,likes:null==h||null===(l=h.product)||void 0===l?void 0:l.likes,status:null==h||null===(f=h.product)||void 0===f?void 0:f.status}),b)&&await o.default.update({id:null==h||null===(k=h.product)||void 0===k?void 0:k.sale_off_products[0].id,off_value:b.value,product_id:null==h?void 0:h.product_id});return t.send({code:200,error:!1,message:["Atualizado com Sucesso!"]})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async index(){return await r.db.tbl_ingredient.findMany()}async save(e){return await r.db.tbl_ingredient.create({data:{name:e.name}})}async show(e){return await r.db.tbl_ingredient.findUnique({where:{id:e}})}async update(e){try{return await r.db.tbl_ingredient.update({where:{id:e.id},data:{name:e.name}})}catch(e){return!1}}async delete(e){await r.db.pizza_ingredient.deleteMany({where:{ingredient_id:e}});return await r.db.tbl_ingredient.delete({where:{id:e}})}async getByName(e){const t=await r.db.tbl_ingredient.findMany({where:{name:e}});return!(t.length<=0)&&t[0]}async addIngredientInPizza(e){return await r.db.pizza_ingredient.create({data:{ingredient_id:e.ingredient_id,pizza_id:e.pizza_id}})}async deleteIngredientInPizza(e){return await r.db.pizza_ingredient.delete({where:{id:e}})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async count(){return await r.db.picture.count()}async index(){return await r.db.picture.findMany({include:{tbl_product_pictures:!0}})}async show(e){return await r.db.picture.findUnique({where:{id:e},include:{tbl_product_pictures:!0}})}async save(e){return(await r.db.picture.create({data:{picture_link:e.picture_link}})).id}async update(e){return await r.db.picture.update({where:{id:e.id},data:{picture_link:e.picture_link}})}async delete(e){return!!await r.db.picture.delete({where:{id:e}})}async addPictureInProduct(e){return await r.db.tbl_product_pictures.create({data:{picture_id:e.picture_id,product_id:e.product_id}})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async count(){return await r.db.pizza.count()}async save(e){return await r.db.pizza.create({data:{product_id:e.product_id,pizza_type_id:e.pizza_type_id}})}async update(e){return await r.db.pizza.update({data:{product_id:e.product_id,pizza_type_id:e.pizza_type_id},where:{id:e.id}})}async index(){return await r.db.pizza.findMany({include:{product:{include:{tbl_product_pictures:{select:{picture_id:!0,picture:{select:{picture_link:!0}}}},sale_off_products:{select:{id:!0,off_value:!0}}}},pizza_ingredient:{select:{id:!0,ingredient:!0}},pizza_stuffing:{select:{id:!0,stuffing:!0}},pizza_type:{select:{name:!0,dimensions:!0}}},where:{product:{status:!0}}})}async show(e){return await r.db.pizza.findUnique({where:{id:e},include:{product:{include:{tbl_product_pictures:{select:{picture_id:!0,picture:{select:{picture_link:!0}}}},sale_off_products:{select:{id:!0,off_value:!0}}}},pizza_ingredient:{select:{id:!0,ingredient:!0}},pizza_stuffing:{select:{id:!0,stuffing:!0}},pizza_type:{select:{name:!0,dimensions:!0}}}})}async delete(e){return!!await r.db.pizza.update({where:{id:e},data:{product:{update:{status:!1}}}})}async activate(e){return!!await r.db.pizza.update({where:{id:e},data:{product:{update:{status:!0}}}})}async savePizzaTypes(e){return await r.db.pizza_type.create({data:{name:e.name,dimensions:e.dimensions,status:e.status}})}async getPizzaTypes(){return await r.db.pizza_type.findMany({where:{status:!0}})}async getPizzaTypeByName(e){const t=await r.db.pizza_type.findMany({where:{name:e}});return!(t.length<=0)&&t[0].id}async updatePizzaTypes(e){return await r.db.pizza_type.update({where:{id:e.id},data:{name:e.name,dimensions:e.dimensions}})}async activatingPizzaTypes(e){if(!await r.db.pizza_type.update({where:{id:e},data:{status:!0}}))return!1;const t=await r.db.pizza_type.findMany({where:{id:e},include:{pizza:{include:{product:{select:{id:!0,status:!0}}}}}});if(0===t[0].pizza.length)return!0;const a=t[0].pizza.map(e=>e.product_id);return await Promise.all(a.map(async e=>{await r.db.product.update({where:{id:e},data:{status:!0}})})),!0}async deletePizzaTypes(e){const t=await r.db.pizza_type.update({where:{id:e},data:{status:!1}}),a=await r.db.pizza_type.findMany({where:{id:e},include:{pizza:{include:{product:{select:{id:!0,status:!0}}}}}});if(0===a[0].pizza.length)return!0;const i=a[0].pizza.map(e=>e.product_id);return await Promise.all(i.map(async e=>{await r.db.product.update({where:{id:e},data:{status:!1}})})),!!t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async save(e){return await r.db.stuffing.create({data:{name:e.name,status:e.status}})}async show(e){const t=await r.db.stuffing.findUnique({where:{id:e}});return t||!1}async showByName(e){const t=await r.db.stuffing.findMany({where:{name:e}});return!(t.length<=0)&&t[0]}async index(){return await r.db.stuffing.findMany()}async update(e){return await r.db.stuffing.update({where:{id:e.id},data:{name:e.name}})}async delete(e){if(!await r.db.stuffing.update({where:{id:e},data:{status:!1}}))return!1;const t=(await r.db.stuffing.findMany({where:{id:e},include:{pizza_stuffing:{include:{pizza:{include:{product:{select:{id:!0}}}}}}}}))[0].pizza_stuffing.map(e=>{var t;return null===(t=e.pizza)||void 0===t?void 0:t.product_id});return await Promise.all(t.map(async e=>{await r.db.product.update({where:{id:e},data:{status:!1}})})),!0}async activate(e){if(!await r.db.stuffing.update({where:{id:e},data:{status:!0}}))return!1;const t=(await r.db.stuffing.findMany({where:{id:e},include:{pizza_stuffing:{include:{pizza:{include:{product:{select:{id:!0}}}}}}}}))[0].pizza_stuffing.map(e=>{var t;return null===(t=e.pizza)||void 0===t?void 0:t.product_id});return await Promise.all(t.map(async e=>{await r.db.product.update({where:{id:e},data:{status:!0}})})),!0}async savePizzaWithStuffing(e){return await r.db.pizza_stuffing.create({data:{pizza_id:e.pizza_id,stuffing_id:e.stuffing_id}})}async updatePizzaWithStuffing(e){return await r.db.pizza_stuffing.update({data:{stuffing_id:e.stuffing_id},where:{id:e.id}})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async save(e){const{id:t}=await r.db.product.create({data:{name:e.name,price:e.price,created_by:e.created_by,status:e.status}});return t}async index(){return await r.db.product.findMany()}async show(e){return await r.db.product.findUnique({where:{id:e}})}async update(e){return await r.db.product.update({where:{id:e.id},data:{name:e.name,price:e.price}})}async delete(e){await r.db.tbl_product_pictures.deleteMany({where:{product_id:e}}),await r.db.sale_off_products.deleteMany({where:{product_id:e}});return!!await r.db.product.delete({where:{id:e}})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async index(){return await r.db.sale_off_products.findMany()}async save(e){return await r.db.sale_off_products.create({data:{product_id:e.product_id,off_value:e.off_value}})}async update(e){return await r.db.sale_off_products.update({where:{id:e.id},data:{off_value:e.off_value}})}async delete(e){return!!await r.db.sale_off_products.delete({where:{id:e}})}async saveSaleOffProduct(e){return await r.db.sale_off_products.create({data:{product_id:e.product_id,off_value:e.off_value}})}async getSaleOffPizzas(){return(await r.db.sale_off_products.findMany({include:{product:{select:{pizza:!0}}}})).filter(e=>{var t;return(null===(t=e.product)||void 0===t?void 0:t.pizza.length)>0})}async getSaleOfDrinks(){return(await r.db.sale_off_products.findMany({include:{product:{select:{drink:!0}}}})).filter(e=>{var t;return(null===(t=e.product)||void 0===t?void 0:t.drink.length)>0})}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(6));t.default=new class{async save(e,t){const{name:a,dimensions:r}=e.body,n=await i.default.savePizzaTypes({id:-1,dimensions:r,name:a,status:!0});return t.send({code:200,error:!1,payload:[n]})}async index(e,t){const a=await i.default.getPizzaTypes();return t.send({code:200,error:!1,payload:a})}async delete(e,t){const{id:a}=e.params;return await i.default.deletePizzaTypes(parseInt(a))?t.send({code:200,error:!1,message:["Sucefull deleted!"]}):t.status(404).send({statusCode:404,error:!0,message:["Content Not Founded!"]})}async activate(e,t){const{id:a}=e.params;return await i.default.activatingPizzaTypes(parseInt(a))?t.send({code:200,error:!1,message:["Sucefull activate!"]}):t.status(404).send({statusCode:404,error:!0,message:["Content Not Founded!"]})}async update(e,t){const{id:a}=e.params,{dimensions:r,name:n}=e.body;return await i.default.updatePizzaTypes({id:parseInt(a),dimensions:r,name:n,status:!0})?t.send({code:200,error:!1,message:["Succefull updated!"]}):t.status(404).send({code:404,error:!0,message:["Content no founded - 404"]})}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(7));t.default=new class{async save(e,t){const{name:a}=e.body,r=await i.default.save({id:-1,name:a,status:!0});return t.send({code:200,error:!1,payload:[r]})}async index(e,t){const a=await i.default.index();return t.send({code:200,error:!1,payload:a})}async show(e,t){const{id:a}=e.params,r=await i.default.show(parseInt(a));return r?t.send({code:200,error:!1,payload:[r]}):t.status(404).send({code:404,error:!0,message:["Content Not Founded"]})}async delete(e,t){const{id:a}=e.params;return await i.default.delete(parseInt(a))?t.send({code:200,error:!1,message:["Succefull Deleted!"]}):t.status(404).send({code:404,error:!0,message:["Content Not Founded"]})}async activate(e,t){const{id:a}=e.params;return await i.default.activate(parseInt(a))?t.send({code:200,error:!1,message:["Succefull Activated!"]}):t.status(404).send({code:404,error:!0,message:["Content Not Founded"]})}async update(e,t){const{id:a}=e.params,{name:r}=e.body;return await i.default.update({id:parseInt(a),name:r,status:!0})?t.send({code:200,error:!1,message:["Succefull updated!"]}):t.status(404).send({code:404,error:!0,message:["Content not founded!"]})}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(13)),n=r(a(5)),d=r(a(8)),s=r(a(9)),u=a(1);t.default=new class{async index(e,t){const a=await i.default.index();return t.send({code:200,error:!1,payload:a})}async show(e,t){const{id:a}=e.params,r=await i.default.show(parseInt(a));return r?t.send({code:200,error:!1,payload:[r]}):t.status(404).send({code:404,error:!0,message:["Content not founded!"]})}async delete(e,t){const{id:a}=e.params;return await i.default.delete(parseInt(a))?t.send({code:200,error:!1,message:["Succefull Deleted!"]}):t.status(404).send({code:404,error:!0,message:["Content not founded"]})}async save(e,t){const{picture:a,volume:r,type:o,saleOffValue:c,price:p,name:l}=e.body,f=e.user.payload.id;await a.toBuffer();const y=await u.FirebaseService.uploadImage(a),_=await n.default.save({id:-1,picture_link:y}),m=await i.default.getBebidaTypeByName(o.value);if(!m)return t.status(404).send({code:404,error:!0,message:["Tipo de bebida não encontrado!"]});const b=await d.default.save({id:-1,created_by:f,likes:0,name:l.value,price:p.value,status:!0});await n.default.addPictureInProduct({id:-1,picture_id:_,product_id:b}),c.value>0&&await s.default.saveSaleOffProduct({id:-1,off_value:c.value,product_id:b});const v=await i.default.save({id:-1,drink_type_id:null==m?void 0:m.id,product_id:b,volume:parseInt(r.value)});return t.send({code:200,error:!1,payload:[v]})}async activate(e,t){const{id:a}=e.params;return await i.default.activate(parseInt(a))?t.send({code:200,error:!1,message:["Activated sucefully!"]}):t.status(404).send({code:404,error:!0,message:["Content not founded"]})}async update(e,t){var a,r,o;const{id:c}=e.params,{picture:p,volume:l,type:f,saleOffValue:y,price:_,name:m}=e.body,b=await i.default.show(parseInt(c));if(!b)return t.status(404).send({code:404,error:!0,message:["Content not founded!"]});if(p){var v,w;await p.toBuffer();const e=await u.FirebaseService.uploadImage(p),t=null==b||null===(v=b.product)||void 0===v||null===(w=v.tbl_product_pictures[0].picture)||void 0===w?void 0:w.id;await n.default.update({id:t,picture_link:e})}if(f&&l){var g;const e=await i.default.getBebidaTypeByName(f.value);if(!e)return t.status(404).send({code:404,error:!0,message:["Tipo de bebida não encontrado!"]});await i.default.update({drink_type_id:e.id,id:parseInt(c),product_id:null===(g=b.product)||void 0===g?void 0:g.id,volume:parseInt(l.value)})}else if(f){var h;const e=await i.default.getBebidaTypeByName(f.value);if(!e)return t.status(404).send({code:404,error:!0,message:["Tipo de bebida não encontrado!"]});await i.default.update({drink_type_id:e.id,id:parseInt(c),product_id:null===(h=b.product)||void 0===h?void 0:h.id,volume:b.volume})}else if(l){var z,P;await i.default.update({drink_type_id:null==b||null===(z=b.drink_type)||void 0===z?void 0:z.id,id:parseInt(c),product_id:null===(P=b.product)||void 0===P?void 0:P.id,volume:parseInt(l.value)})}var j,O,M,k;y&&(null!=b&&null!==(j=b.product)&&void 0!==j&&j.sale_off_products?await s.default.update({id:null==b||null===(O=b.product)||void 0===O?void 0:O.sale_off_products[0].id,off_value:y.value,product_id:null==b||null===(M=b.product)||void 0===M?void 0:M.id}):await s.default.saveSaleOffProduct({id:-1,off_value:y.value,product_id:null===(k=b.product)||void 0===k?void 0:k.id}));return await d.default.update({created_by:null==b||null===(a=b.product)||void 0===a?void 0:a.created_by,id:null==b||null===(r=b.product)||void 0===r?void 0:r.id,likes:null==b||null===(o=b.product)||void 0===o?void 0:o.likes,name:m.value,price:_.value,status:!0}),t.send({code:200,error:!1,message:["Updated Sucefull"]})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(0);t.default=new class{async save(e){return await r.db.drink.create({data:{volume:e.volume,product_id:e.product_id,drink_type_id:e.drink_type_id},select:{product:{include:{tbl_product_pictures:!0}},product_id:!0,drink_type_id:!0,drink_type:!0,volume:!0,id:!0}})}async index(){return await r.db.drink.findMany({select:{id:!0,volume:!0,drink_type:!0,product:{include:{tbl_product_pictures:{select:{picture:!0}},sale_off_products:!0}}}})}async show(e){return await r.db.drink.findUnique({where:{id:e},select:{id:!0,volume:!0,drink_type:!0,product:{include:{tbl_product_pictures:{select:{picture:!0}},sale_off_products:!0}}}})}async delete(e){return!!await r.db.drink.update({where:{id:e},data:{product:{update:{status:!1}}}})}async activate(e){return!!await r.db.drink.update({where:{id:e},data:{product:{update:{status:!0}}}})}async update(e){return await r.db.drink.update({data:{drink_type_id:e.drink_type_id,volume:e.volume},where:{id:e.id}})}async saveBebidaTypes(e){return await r.db.drink_type.create({data:{name:e.name,status:e.status}})}async getBebidaTypes(){return await r.db.drink_type.findMany()}async getBebidaTypeByName(e){const t=await r.db.drink_type.findMany({where:{name:e}});return!!t&&t[0]}async getBebidaTypeById(e){const t=await r.db.drink_type.findUnique({where:{id:e}});return t||!1}async updateBebidaTypes(e){return await r.db.drink_type.update({where:{id:e.id},data:{name:e.name,status:e.status}})}async deleteBebidaTypes(e){if(!await r.db.drink_type.update({where:{id:e},data:{status:!1}}))return!1;const t=(await r.db.drink_type.findMany({where:{id:e},include:{drink:{include:{product:{select:{id:!0}}}}}}))[0].drink.map(e=>e.product_id);return Promise.all(t.map(async e=>{await r.db.product.update({where:{id:e},data:{status:!1}})})),!0}async activateBebidaTypes(e){if(!await r.db.drink_type.update({where:{id:e},data:{status:!0}}))return!1;const t=(await r.db.drink_type.findMany({where:{id:e},include:{drink:{include:{product:{select:{id:!0}}}}}}))[0].drink.map(e=>e.product_id);return Promise.all(t.map(async e=>{await r.db.product.update({where:{id:e},data:{status:!0}})})),!0}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(4));t.default=new class{async save(e,t){const{name:a}=e.body,r=await i.default.save({id:-1,name:a});return t.send({code:200,error:!1,payload:[r]})}async index(e,t){const a=await i.default.index();return t.send({code:200,error:!1,payload:a})}async show(e,t){const{id:a}=e.params,r=await i.default.show(parseInt(a));return r?t.send({code:200,error:!1,payload:[r]}):t.status(404).send({code:404,error:!0,message:["Content not founded"]})}async delete(e,t){const{id:a}=e.params;return await i.default.delete(parseInt(a))?t.send({code:200,error:!1,message:["Succefull Deleted!"]}):t.status(404).send({code:404,error:!0,message:["Content not Founded!"]})}async update(e,t){const{id:a}=e.params,{name:r}=e.body;return await i.default.update({id:parseInt(a),name:r})?t.send({code:200,error:!1,message:["Succefull updated!"]}):t.status(404).send({code:404,error:!0,message:["Content not founded!"]})}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(13));t.default=new class{async index(e,t){const a=await i.default.getBebidaTypes();return t.send({code:200,error:!1,payload:a})}async show(e,t){const{id:a}=e.params,r=await i.default.getBebidaTypeById(parseInt(a));return r?t.send({code:200,error:!1,payload:[r]}):t.status(404).send({code:404,error:!0,message:["Content not Founded"]})}async delete(e,t){const{id:a}=e.params;return await i.default.deleteBebidaTypes(parseInt(a))?t.send({code:200,error:!1,message:["Succefull Deleted"]}):t.status(404).send({code:404,error:!0,message:["Content not Founded"]})}async activate(e,t){const{id:a}=e.params;return await i.default.activateBebidaTypes(parseInt(a))?t.send({code:200,error:!1,message:["Succefull Activated!"]}):t.status(404).send({code:404,error:!0,message:["Content not Founded"]})}async save(e,t){const{name:a}=e.body;if(await i.default.getBebidaTypeByName(a))return t.status(400).send({code:400,error:!0,message:["This type of drink already exist"]});const r=await i.default.saveBebidaTypes({id:-1,name:a,status:!0});return t.send({code:200,error:!1,payload:[r]})}async update(e,t){const{id:a}=e.params,{name:r}=e.body;if(!await i.default.getBebidaTypeById(parseInt(a)))return t.status(404).send({code:404,error:!0,message:["This type of drink doesnt exist!, bad id value"]});return await i.default.getBebidaTypeByName(r)?t.status(400).send({code:400,error:!0,message:["This type of drink already exist"]}):(await i.default.updateBebidaTypes({id:parseInt(a),name:r,status:!0}),t.send({code:200,error:!1,message:["Succefull Updated!"]}))}}},function(e,t){e.exports=require("@fastify/aws-lambda")},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(18)),n=r(a(19)),d=r(a(20)),s=r(a(21)),u=a(22);class o{constructor(){this.server=(0,n.default)({logger:!0}),this.middlewares(),this.decorators(),this.routes()}async middlewares(){this.server.register(s.default,{secret:"mysecret"}),this.server.register(d.default,{attachFieldsToBody:!0}),await this.server.register(i.default,{origin:!0})}decorators(){this.server.decorate("authenticate",async(e,t)=>{try{await e.jwtVerify()}catch(e){return t.send(e)}})}routes(){this.server.register(u.userRoutes,{prefix:"/user"}),this.server.register(u.pizzaRoutes,{prefix:"/pizza"}),this.server.register(u.pizzaTypesRoutes,{prefix:"/pizza/types"}),this.server.register(u.stuffingRoutes,{prefix:"/stuffing"}),this.server.register(u.ingredientRoutes,{prefix:"/ingredient"}),this.server.register(u.drinkRoutes,{prefix:"/drink"}),this.server.register(u.drinkTypesRoutes,{prefix:"/drink/types"})}static get Instance(){return this._instance||(this._instance=new this)}}var c,p,l;c=o,l=void 0,(p=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(p="_instance"))in c?Object.defineProperty(c,p,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[p]=l,t.default=o},function(e,t){e.exports=require("@fastify/cors")},function(e,t){e.exports=require("fastify")},function(e,t){e.exports=require("@fastify/multipart")},function(e,t){e.exports=require("@fastify/jwt")},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.stuffingRoutes=t.pizzaRoutes=t.pizzaTypesRoutes=t.ingredientRoutes=t.drinkRoutes=t.drinkTypesRoutes=t.userRoutes=void 0;const i=r(a(23));t.userRoutes=i.default;const n=r(a(31));t.drinkTypesRoutes=n.default;const d=r(a(33));t.drinkRoutes=d.default;const s=r(a(35));t.ingredientRoutes=s.default;const u=r(a(37));t.pizzaTypesRoutes=u.default;const o=r(a(39));t.pizzaRoutes=o.default;const c=r(a(41));t.stuffingRoutes=c.default},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(24),n=r(a(2)),d=a(30);t.default=async function(e){e.get("/count",{onRequest:[e.authenticate]},i.UserController.count),e.post("/register",{schema:d.createUserOptions,onRequest:[e.authenticate]},i.UserController.save),e.post("/login",{schema:d.loginOptions},async(t,a)=>{const{email:r,password:i}=t.body,d=await n.default.getUserByEmail(r);if(d.length<=0)return a.status(404).send({code:404,error:!0,message:["Email not founded"]});if(d[0].password!==i)return a.status(401).send({error:!0,code:401,message:["Invalid Password! - Unauthorized"]});const s={payload:d[0]},u=e.jwt.sign(s);return a.send({code:200,error:!1,payload:{token:u}})}),e.delete("/:id",{onRequest:[e.authenticate]},i.UserController.delete),e.put("/:id",{onRequest:[e.authenticate]},i.UserController.update)}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DrinkTypeController=t.IngredientController=t.DrinkController=t.StuffingController=t.PizzaTypesController=t.PizzaController=t.UserController=void 0;const i=r(a(25));t.UserController=i.default;const n=r(a(3));t.PizzaController=n.default;const d=r(a(10));t.PizzaTypesController=d.default;const s=r(a(11));t.StuffingController=s.default;const u=r(a(12));t.DrinkController=u.default;const o=r(a(14));t.IngredientController=o.default;const c=r(a(15));t.DrinkTypeController=c.default},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(1),n=r(a(2));t.default=new class{async count(e,t){const a=await n.default.count();return t.send({error:!1,code:200,count:a})}async save(e,t){const{body:a}=e,{profile_picture:r,name:d,email:s,password:u,cellphone:o}=a;await r.toBuffer();const c={id:-1,profile_picture:await i.FirebaseService.uploadImage(r),name:d.value,email:s.value,password:u.value,cellphone:o.value.toString(),isAdmin:!1},p=await n.default.save(c);return t.send({statusCode:200,error:!1,payload:[p]})}async delete(e,t){const{id:a}=e.params;return await n.default.delete(parseInt(a))?t.send({code:200,error:!1,payload:["Success Deleted"]}):t.status(404).send({code:400,error:!0,message:["Not Founded"]})}async update(e,t){const{body:a}=e,{id:r}=e.params,{profile_picture:d,name:s,email:u,password:o,cellphone:c}=a;await d.toBuffer();const p=await i.FirebaseService.uploadImage(d),l={id:parseInt(r),profile_picture:p,name:s.value,email:u.value,password:o.value,cellphone:c.value.toString(),isAdmin:!1};return await n.default.update(l)?t.send({code:200,error:!1,payload:["succefull update"]}):t.status(400).send({code:400,error:!0,message:["Bad Request"]})}}},function(e,t,a){"use strict";function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(a(27)),d=i(a(28));t.default=new class{constructor(e=n.default.initializeApp({credential:n.default.credential.cert(d.default),storageBucket:"senai-pizzaria.appspot.com"})){r(this,"app",void 0),this.app=e}async uploadImage(e){const t=e,a=n.default.storage().bucket(),r=Date.now()+"."+t.filename.split(".").pop(),i=a.file(r),d=i.createWriteStream({metadata:{contentType:t.mimetype}});return d.on("error",e=>console.log(e)),d.on("finish",async()=>{await i.makePublic()}),d.end(t._buf),"https://storage.googleapis.com/senai-pizzaria.appspot.com/"+r}}},function(e,t){e.exports=require("firebase-admin")},function(e){e.exports=JSON.parse('{"type":"service_account","project_id":"senai-pizzaria","private_key_id":"fb9a6578cb43dccce162aeac36a50cd4a429c8a9","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCNJdUyGMT+u2eJ\\nn/vcjzANRtw1gSuP6RfcGcpQ7Zznakp+v3mWK17quwjB2KeB4VJ26uOJwzcbLruA\\n0rRUbPXi0hSr8aAkcg4Z0yG3vRu9TLofa8YxLEnjot+OpLTLftxrVC5/MJ+n9vR1\\nLQKwNIwl0qppeUes8oPBoLsGkoMf5eg3NrerOd25Bl/78O97IZ2b0xlpKFzoGgMe\\n9uqkYxK6Qy6XTg+qlqYA+M0jrHG5ig7I+h78b8BgzCGw9y4QqCp85j3POJkqviQc\\nlhZN9zFHHDFsYhJCDOej6Z3Lw8+ExMK6nqwFv/aitTk6l+OV0yLxc4fCH57sFtIZ\\nP/xUPkeZAgMBAAECggEAEhGNRK/6C9fmra3+umHUF2cCSpEiB/ahWMouZYS9aLxp\\nE+ekA27C5E6UFOiMrOowuctg3GJSnBaz5w5SClq2cVZOUiKIyxGUr4ahEtnRAr8f\\nNmWABgxy2wKfFq4L/N7dDZpFp3+MeJ569cMQzIi1hiP9L6pYXBHhfvh56KH5yive\\nC1fsi2dJIzoiyiwHAQNLqVnnwmLFBehd59YsUrvBwo0JwOzLoZAeNGDgicxxNug4\\nL0TqwKwpM1bbtgxLno0YwOHheZOsRVrXhfsSmfBivE9cg1Y0NP8kKmdjJSWpzZHI\\nXw3E3C3f/kMbbFExLN3nKYDYunxJAZrbvLhqPo6EJwKBgQDCi0tgVkqhIHrCAteg\\nl33cCW3ZHghQNQVRHES+3i6V7rsn/IsGXDLY5aC5dC6yg69uijAyKyCo7XYf0xue\\nClLXIThcSE5IQbqJ/h0/LcfRMvBY7gHDJ9XCggcgC4kIK2xUE1i5aSjvxxYKEr6r\\n45tKUm+ATGIwj1FBdCm93iRqMwKBgQC5vGXj3uzufnpQoASRfEsyvrsVp/Lr88ZL\\nYnZ65pfy+6DLTRIknvCplpbFaS/QGsow8dAx8fJY342iJWIQjkiH46G5sRyzKl9R\\nCujPZ73XZizzGJqyY9ITnaJNhZ4PATuRRuOxtZLypznDoB4DKfghoSqvCNV6BbAe\\nRlXSWZPTAwKBgEeKObm/gcomy3201d50VxAnV4HUDXKRTNc68fzOb4srMx/NOsKn\\n/PrN1oDcPJ/g1Q5tOrP4MBZu3FVvqGRBn50E1lj5LfBcW2CLVe35w9UmSkQpofRG\\nHdFdR4l9NHMQpNF2G9Zy2V7zcyNZKUzEckKuddpUPHdm/JZ5RTBRFEsJAoGBALbp\\nDf5mXzZPX+1eaKFNolCK/HrLNrOfEjzS7pMB28nye9s6Pw/JZn/cSQaIHAn5F/0z\\nZjCJcHyNS1HPNs/PDyajyXSxMu5OYCfTcoouRAqIGOQd6tqa6xteNaPaXlmwgRUE\\nlt8/TUOh44T/fg7nmfCkYwCU1oaga1ylL4dDqAw5AoGACN1qn+ZZxC4It3MisPIp\\nPTySZ49cuWvMUJ4gpDmy+6OkS7gwFAhvfKDQtzemr/9QCH60pzbvDCX5WSCNRqEW\\nPIz/IJuv1t3oZ4Rr1UIycDbEed8sBw4WXtUVEAvOL5cxd03b0BRNPkFebdb7zyGc\\n+reD70JyxfWeTaEHbug7Tlg=\\n-----END PRIVATE KEY-----\\n","client_email":"firebase-adminsdk-d9t44@senai-pizzaria.iam.gserviceaccount.com","client_id":"100550928483513611494","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-d9t44%40senai-pizzaria.iam.gserviceaccount.com"}')},function(e,t){e.exports=require("@prisma/client")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loginOptions=t.createUserOptions=void 0;const r={body:{type:"object",required:["name","profile_picture","email","cellphone","password"],properties:{profile_picture:{type:"object"},name:{type:"object",properties:{value:{type:"string"}}},email:{type:"object",properties:{value:{type:"string"}}},cellphone:{type:"object",properties:{value:{type:"number"}}},password:{type:"object",properties:{value:{type:"string"}}}}},response:{200:{type:"object",properties:{statusCode:{type:"number"},payload:{type:"array",items:{User:{type:"object",properties:{id:{type:"int"},profile_picture:{type:"string"},name:{type:"string",length:256},email:{type:"string",length:256},cellphone:{type:"string",length:15},password:{type:"string",length:256}}}}},error:{type:"boolean"}}}}};t.createUserOptions=r;t.loginOptions={body:{type:"object",required:["email","password"],properties:{email:{type:"string"},password:{type:"string"}}}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(15)),n=a(32);t.default=async function(e){e.get("/",{onRequest:[e.authenticate]},i.default.index),e.get("/:id",{onRequest:[e.authenticate]},i.default.show),e.delete("/:id",{onRequest:[e.authenticate]},i.default.delete),e.put("/activate/:id",{onRequest:[e.authenticate]},i.default.activate),e.post("/",{onRequest:[e.authenticate],schema:n.createDrinkTypeOptions},i.default.save),e.put("/:id",{onRequest:[e.authenticate]},i.default.update)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDrinkTypeOptions=void 0;t.createDrinkTypeOptions={body:{type:"object",required:["name"],properties:{name:{type:"string"}}},response:{200:{type:"object",properties:{code:{type:"number"},payload:{type:"array",items:{type:"object",properties:{id:{type:"integer"},status:{type:"boolean"},name:{type:"string"}}}},error:{type:"boolean"}}}}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(12)),n=a(34);t.default=async function(e){e.get("/",{onRequest:[e.authenticate]},i.default.index),e.post("/",{onRequest:[e.authenticate],schema:n.createDrinkOptions},i.default.save),e.get("/:id",{onRequest:[e.authenticate]},i.default.show),e.delete("/:id",{onRequest:[e.authenticate]},i.default.delete),e.put("/activate/:id",{onRequest:[e.authenticate]},i.default.activate),e.put("/:id",{onRequest:[e.authenticate]},i.default.update)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDrinkOptions=void 0;const r={body:{type:"object",required:["price","volume","saleOffValue","type","picture","name"],properties:{picture:{type:"object"},price:{type:"object",properties:{value:{type:"number"}}},volume:{type:"object",properties:{value:{type:"number"}}},name:{type:"object",properties:{value:{type:"string"}}},saleOffValue:{type:"object",properties:{value:{type:"number"}}},type:{type:"object",properties:{value:{type:"string"}}}}},response:{200:{type:"object",properties:{code:{type:"number"},payload:{type:"array",items:{Drink:{type:"object",properties:{id:{type:"number"},volume:{type:"number"},product:{type:"object",properties:{id:{type:"int"},name:{type:"string"},price:{type:"number"},likes:{type:"number"},created_by:{type:"number"},status:{type:"boolean"},tbl_product_pictures:{type:"array",items:{type:"object",properties:{picture_id:{type:"int"}}}}}},drink_type:{id:{type:"number"},name:{type:"string"},status:{type:"boolean"}}}}}},error:{type:"boolean"}}}}};t.createDrinkOptions=r},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(14)),n=a(36);t.default=async function(e){e.post("/",{onRequest:[e.authenticate],schema:n.createIngredientOptions},i.default.save),e.get("/",{onRequest:[e.authenticate]},i.default.index),e.get("/:id",{onRequest:[e.authenticate]},i.default.show),e.delete("/:id",{onRequest:[e.authenticate]},i.default.delete),e.put("/:id",{onRequest:[e.authenticate],schema:n.updateIngredientOptions},i.default.update)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateIngredientOptions=t.createIngredientOptions=void 0;t.createIngredientOptions={body:{type:"object",required:["name"],properties:{name:{type:"string"}}},response:{200:{type:"object",properties:{code:{type:"number"},payload:{type:"array",items:{type:"object",properties:{id:{type:"integer"},status:{type:"boolean"},name:{type:"string"}}}},error:{type:"boolean"}}}}};t.updateIngredientOptions={body:{type:"object",required:["name"],properties:{name:{type:"string"}}},response:{200:{type:"object",properties:{statusCode:{type:"number"},message:{type:"array",items:{type:"string"}},error:{type:"boolean"}}}}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(10)),n=a(38);t.default=async function(e){e.post("/",{onRequest:[e.authenticate],schema:n.createPizzaTypeOptions},i.default.save),e.get("/",{onRequest:[e.authenticate]},i.default.index),e.delete("/:id",{onRequest:[e.authenticate]},i.default.delete),e.put("/activate/:id",{onRequest:[e.authenticate]},i.default.activate),e.put("/:id",{onRequest:[e.authenticate],schema:n.updatePizzaTypeOptions},i.default.update)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPizzaTypeOptions=t.updatePizzaTypeOptions=void 0;t.createPizzaTypeOptions={body:{type:"object",required:["name","dimensions"],properties:{name:{type:"string"},dimensions:{type:"string"}}},response:{200:{type:"object",properties:{code:{type:"number"},payload:{type:"array",items:{type:"object",properties:{id:{type:"integer"},status:{type:"boolean"},name:{type:"string"},dimensions:{type:"string"}}}},error:{type:"boolean"}}}}};t.updatePizzaTypeOptions={body:{type:"object",required:["name","dimensions"],properties:{name:{type:"string"},dimensions:{type:"string"}}},response:{200:{type:"object",properties:{statusCode:{type:"number"},message:{type:"array",items:{type:"string"}},error:{type:"boolean"}}}}}},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(3)),n=a(40);t.default=async function(e){e.get("/count",{onRequest:[e.authenticate]},i.default.count),e.get("/",{onRequest:[e.authenticate]},i.default.index),e.get("/:id",{onRequest:[e.authenticate]},i.default.show),e.post("/",{onRequest:[e.authenticate],schema:n.createPizzaOptions},i.default.save),e.put("/:id",{onRequest:[e.authenticate],schema:n.updatePizzaOptions},i.default.update),e.put("/activate/:id",{onRequest:[e.authenticate]},i.default.activate),e.delete("/:id",{onRequest:[e.authenticate]},i.default.delete)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePizzaOptions=t.createPizzaOptions=void 0;const r={type:"object",properties:{id:{type:"int"},pizza_type_id:{type:"string"},product:{type:"object",properties:{id:{type:"int"},name:{type:"string"},price:{type:"number"},likes:{type:"number"},created_by:{type:"number"},status:{type:"boolean"},tbl_product_pictures:{type:"array",items:{type:"object",properties:{picture_id:{type:"int"}}}},pizza_ingredient:{type:"array",items:{type:"object",properties:{id:{type:"int "},ingredient:{type:"object",properties:{id:{type:"int"},name:{type:"string"},status:{type:"boolean"}}}}}},pizza_stuffing:{type:"array",items:{type:"object",properties:{id:{type:"int "},stuffinge:{type:"object",properties:{id:{type:"int"},name:{type:"string"}}}}}},pizza_type:{type:"object",properties:{name:{type:"object"},dimensions:{type:"object"}}}}}}},i={body:{type:"object",required:["price","stuffing","saleOffValue","type","picture","ingredient"],properties:{picture:{type:"object"},price:{type:"object",properties:{value:{type:"number"}}},ingredient:{type:"array",items:{type:"object",properties:{value:{type:"string"}}}},stuffing:{type:"object",properties:{value:{type:"string"}}},saleOffValue:{type:"object",properties:{value:{type:"number"}}},type:{type:"object",properties:{value:{type:"string"}}}}},response:{200:{type:"object",properties:{statusCode:{type:"number"},payload:{type:"array",items:{Pizza:r}},error:{type:"boolean"}}}}};t.createPizzaOptions=i;const n={body:{type:"object",properties:{picture:{type:"object"},price:{type:"object",properties:{value:{type:"number"}}},ingredient:{type:"array",items:{type:"object",properties:{value:{type:"string"}}}},stuffing:{type:"object",properties:{value:{type:"string"}}},saleOffValue:{type:"object",properties:{value:{type:"number"}}},type:{type:"object",properties:{value:{type:"string"}}}}},response:{200:{type:"object",properties:{statusCode:{type:"number"},payload:{type:"array",items:{Pizza:r}},error:{type:"boolean"}}}}};t.updatePizzaOptions=n},function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(11)),n=a(42);t.default=async function(e){e.post("/",{onRequest:[e.authenticate],schema:n.createStuffingOptions},i.default.save),e.get("/",{onRequest:[e.authenticate]},i.default.index),e.get("/:id",{onRequest:[e.authenticate]},i.default.show),e.delete("/:id",{onRequest:[e.authenticate]},i.default.delete),e.put("/activate/:id",{onRequest:[e.authenticate]},i.default.activate),e.put("/:id",{onRequest:[e.authenticate],schema:n.updateStuffingOptions},i.default.update)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateStuffingOptions=t.createStuffingOptions=void 0;t.createStuffingOptions={body:{type:"object",required:["name"],properties:{name:{type:"string"}}},response:{200:{type:"object",properties:{code:{type:"number"},payload:{type:"array",items:{type:"object",properties:{id:{type:"integer"},status:{type:"boolean"},name:{type:"string"}}}},error:{type:"boolean"}}}}};t.updateStuffingOptions={body:{type:"object",required:["name"],properties:{name:{type:"string"}}},response:{200:{type:"object",properties:{statusCode:{type:"number"},message:{type:"array",items:{type:"string"}},error:{type:"boolean"}}}}}},function(e,t,a){"use strict";a.r(t),a.d(t,"handler",(function(){return s}));var r=a(16),i=a.n(r),n=a(17);const d=a.n(n).a.Instance.server,s=i()(d)}]));